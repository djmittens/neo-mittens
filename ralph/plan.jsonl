{"t": "spec", "spec": "ralph-plan-system.md"}
{"t": "task", "id": "t-wxul", "spec": "ralph-plan-system.md", "name": "Implement ralph task reject command", "s": "d", "notes": "In powerplant/ralph cmd_task function, add reject action that: 1) Gets first done task, 2) Creates tombstone record {\"t\": \"reject\", \"id\": task_id, \"done_at\": commit_hash, \"reason\": reason}, 3) Moves task back to pending (s: \"p\"). Need to update RalphState to track tombstones list and save_state to write them.", "accept": "ralph task reject \"reason\" creates tombstone in plan.jsonl and moves done task to pending", "done_at": "042cade"}
{"t": "task", "id": "t-3e2j", "spec": "ralph-plan-system.md", "name": "Update load_state to parse tombstones", "s": "p", "notes": "In powerplant/ralph load_state function (around line 473-495), add handling for t==\"reject\" records. Add Tombstone dataclass with fields: id, done_at, reason. Add tombstones list to RalphState class.", "accept": "load_state correctly parses reject records from plan.jsonl into RalphState.tombstones", "deps": ["t-wxul"]}
{"t": "task", "id": "t-vdwz", "spec": "ralph-plan-system.md", "name": "Update ralph log --all to show rejected tasks", "s": "p", "notes": "In powerplant/ralph cmd_log function (around line 2895-2992), when reconstructing history: 1) Parse tombstone records from each commit, 2) Add \"rejected\" field to task history output showing {commit, date, reason}, 3) Use tombstones to distinguish accepted vs rejected per spec lines 193-199.", "accept": "ralph log --all output shows rejected field for tasks that have tombstones", "deps": ["t-3e2j"]}
{"t": "task", "id": "t-duak", "spec": "ralph-plan-system.md", "name": "Update ralph plan to clear tombstones", "s": "p", "notes": "In powerplant/ralph cmd_set_spec function (around line 2867-2892), when clearing tasks also clear tombstones. Update save_state to not write tombstones when state.tombstones is empty (they are ephemeral per spec line 209).", "accept": "Running ralph plan <new-spec> removes all tombstone records from plan.jsonl", "deps": ["t-3e2j"]}
{"t": "task", "id": "t-xte3", "spec": "ralph-plan-system.md", "name": "Update shell completions for reject", "s": "p", "notes": "In powerplant/ralph-completion.bash line 42 and powerplant/ralph-completion.zsh line 40, add reject to task_subcommands array: (done add accept reject)", "accept": "Tab completion for ralph task shows reject option", "deps": ["t-wxul"]}
