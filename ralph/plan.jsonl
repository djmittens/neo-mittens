{"t": "spec", "spec": "construct-mode.md"}
{"t": "task", "id": "t-b0bu", "spec": "construct-mode.md", "name": "Implement PLAN stage auto-prioritization", "s": "d", "notes": "PLAN stage should call ralph task prioritize automatically at end before transitioning to BUILD. Add call after task creation in plan mode.", "accept": "ralph plan completes and tasks have priority field set automatically", "done_at": "146291b"}
{"t": "task", "id": "t-midl", "spec": "construct-mode.md", "name": "Implement VALIDATE stage auto-prioritization", "s": "d", "notes": "VALIDATE stage should call ralph task prioritize automatically at end before next iteration. Add after task/issue creation.", "accept": "After VALIDATE creates new tasks, they have priority field set", "done_at": "4b8cf56", "priority": "medium"}
{"t": "task", "id": "t-92zx", "spec": "construct-mode.md", "name": "Add context warning at 70%", "s": "d", "notes": "When context usage exceeds 70% (CONTEXT_SOFT_LIMIT_PCT), log a warning. Already have CONTEXT_SOFT_LIMIT_PCT=70 defined at line 89.", "accept": "Context warning logged when exceeding 70%", "done_at": "f83750e", "priority": "medium"}
{"t": "task", "id": "t-waia", "spec": "construct-mode.md", "name": "Implement context compaction at 85%", "s": "d", "notes": "At 85% context, attempt compaction by summarizing conversation. Spec lines 358-404 describe what to preserve/summarize/discard. If still >80% after, proceed to kill.", "accept": "Compaction attempt at 85% context, falls through to kill if fails", "done_at": "127b572", "priority": "medium"}
{"t": "task", "id": "t-7q9u", "spec": "construct-mode.md", "name": "Add context kill at 95%", "s": "d", "notes": "Kill iteration at 95% context or if compaction fails. Update CONTEXT_HARD_LIMIT_PCT to 95. Currently at 80% (line 91-92).", "accept": "Iteration killed at 95% context", "done_at": "31ce2d3", "priority": "medium"}
{"t": "task", "id": "t-liqi", "spec": "construct-mode.md", "name": "Add config record for context thresholds", "s": "d", "notes": "Add config JSONL record type with context_warn, context_compact, context_kill fields. Spec line 614-624 shows format.", "accept": "Config record in plan.jsonl can set context thresholds", "done_at": "e581a1c", "priority": "low"}
{"t": "task", "id": "t-cfcg", "spec": "construct-mode.md", "name": "Write stage logs to build/ralph-logs/", "s": "d", "notes": "Each stage execution should log to build/ralph-logs/ralph-<timestamp>-<stage>.log. Spec lines 626-636.", "accept": "Stage logs written to build/ralph-logs/", "done_at": "c7c26d2", "priority": "medium"}
{"t": "task", "id": "t-4rpe", "spec": "construct-mode.md", "name": "Implement config record type for context thresholds", "s": "p", "notes": "load_state and save_state need to handle t=config record. RalphState needs config field. Config record should be read and used to override CONTEXT_SOFT_LIMIT_PCT, CONTEXT_COMPACT_LIMIT_PCT, CONTEXT_HARD_LIMIT_PCT when running. Spec lines 614-624.", "accept": "Add config record to plan.jsonl, verify context thresholds are respected"}
