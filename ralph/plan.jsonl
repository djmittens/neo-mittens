{"t": "config", "timeout_ms": 300000, "max_iterations": 10, "context_warn": 0.7, "context_compact": 0.85, "context_kill": 0.95}
{"t": "spec", "spec": "ralph-refactor.md"}
{"t": "task", "id": "t-m8zb39", "spec": "ralph-refactor.md", "name": "Extract task subcommand handlers from cmd_task", "s": "p", "notes": "Modify ralph/cli.py: The cmd_task function (lines 136-341, 206 lines) handles all task subcommands inline. Extract each subcommand handler to ralph/commands/task.py as separate functions: handle_task_add(), handle_task_done(), handle_task_accept(), handle_task_reject(), handle_task_delete(), handle_task_prioritize(), handle_task_show(). Each handler should be <50 lines. In cmd_task, dispatch to these handlers using a dict mapping. This is the first step to reducing cli.py complexity.", "accept": "wc -l ralph/cli.py shows <700 lines AND grep -c def.handle_task ralph/commands/task.py returns >=5", "priority": "high"}
{"t": "task", "id": "t-nee1an", "spec": "ralph-refactor.md", "name": "Extract issue subcommand handlers from cli.py", "s": "p", "notes": "Modify ralph/cli.py: The cmd_issue function (around lines 342-430) handles issue subcommands inline. Extract each handler to ralph/commands/issue.py as separate functions: handle_issue_add(), handle_issue_done(), handle_issue_done_all(), handle_issue_done_ids(). In cmd_issue, dispatch using a dict mapping. This reduces cli.py line count.", "accept": "grep -c def.handle_issue ralph/commands/issue.py returns >=3", "deps": ["t-m8zb39"], "priority": "high"}
{"t": "task", "id": "t-njz3t8", "spec": "ralph-refactor.md", "name": "Extract set-spec command to commands/set_spec.py", "s": "p", "notes": "Modify ralph/cli.py: Extract the set-spec command logic (lines ~428-458) to a new file ralph/commands/set_spec.py with function cmd_set_spec(args, config). Update cli.py main() to import and call this function. Add export to ralph/commands/__init__.py.", "accept": "test -f ralph/commands/set_spec.py && grep -q cmd_set_spec ralph/commands/__init__.py", "deps": ["t-nee1an"], "priority": "high"}
{"t": "task", "id": "t-nq322s", "spec": "ralph-refactor.md", "name": "Refactor main() to use command dispatch dict", "s": "p", "notes": "Modify ralph/cli.py main() function (lines 721-775): Replace if/elif chain with a dispatch dictionary mapping command names to handler functions. Pattern: COMMANDS = {\"init\": cmd_init, \"status\": cmd_status, ...}. Then: handler = COMMANDS.get(command); handler(args, config). This reduces main() line count and complexity.", "accept": "grep -q COMMANDS.*=.*{ ralph/cli.py && radon cc ralph/cli.py -s | grep main | grep -E \"[AB]\"", "deps": ["t-njz3t8"], "priority": "high"}
{"t": "task", "id": "t-nx3vou", "spec": "ralph-refactor.md", "name": "Extract create_parser to commands/parser.py", "s": "p", "notes": "Modify ralph/cli.py: The create_parser function (lines ~601-720, 109 lines) is large. Extract it to ralph/commands/parser.py. This file should contain create_parser() and any subparser setup helpers. Import it in cli.py. This helps cli.py get under 500 lines.", "accept": "test -f ralph/commands/parser.py && wc -l ralph/cli.py | awk \"{print \\$1}\" | xargs test 600 -gt", "deps": ["t-nq322s"], "priority": "medium"}
{"t": "task", "id": "t-n34psi", "spec": "ralph-refactor.md", "name": "Extract prompt helpers from commands/init.py", "s": "p", "notes": "Modify ralph/commands/init.py (705 lines): Extract the prompt building and template functions to a new file ralph/commands/init_prompts.py. Look for functions like build_*_prompt(), generate_*_content(), or similar template generation code. Keep only the main cmd_init logic in init.py. Target: init.py under 500 lines.", "accept": "wc -l ralph/commands/init.py | awk \"{print \\$1}\" | xargs test 550 -gt", "priority": "medium"}
{"t": "task", "id": "t-n997yg", "spec": "ralph-refactor.md", "name": "Extract dashboard widgets to tui/widgets.py", "s": "p", "notes": "Modify ralph/tui/dashboard.py (779 lines): The create_textual_app function is 662 lines and contains inline widget class definitions (OutputLog, RalphArt, StatusPanel, IssuesPanel). Extract these widget classes to a new file ralph/tui/widgets.py. Import them in dashboard.py. This is the first step to reducing dashboard.py complexity.", "accept": "test -f ralph/tui/widgets.py && wc -l ralph/tui/dashboard.py | awk \"{print \\$1}\" | xargs test 600 -gt", "priority": "medium"}
{"t": "task", "id": "t-okq036", "spec": "ralph-refactor.md", "name": "Split dashboard CSS to tui/styles.py", "s": "p", "notes": "Modify ralph/tui/dashboard.py: The CSS_TEXT constant (lines ~50-150 approximately, a large multiline string) takes significant space. Create ralph/tui/styles.py and move CSS_TEXT there. Import CSS_TEXT in dashboard.py where RalphDashboard class is defined. Combined with widget extraction, this should bring dashboard.py under 500 lines.", "accept": "grep -q CSS_TEXT ralph/tui/styles.py && wc -l ralph/tui/dashboard.py | awk \"{print \\$1}\" | xargs test 500 -gt", "deps": ["t-n997yg"], "priority": "medium"}
{"t": "task", "id": "t-oqn0te", "spec": "ralph-refactor.md", "name": "Extract render helpers from tui/fallback.py", "s": "p", "notes": "Modify ralph/tui/fallback.py (581 lines): The render_dashboard function (lines ~487-581, 95 lines, complexity 22) has many control flow statements. Extract helper functions: render_header(), render_tasks_section(), render_issues_section(), render_metrics_section(). Each should be <30 lines. Call these from render_dashboard. Target: fallback.py under 500 lines.", "accept": "wc -l ralph/tui/fallback.py | awk \"{print \\$1}\" | xargs test 520 -gt", "priority": "medium"}
{"t": "task", "id": "t-o4etqo", "spec": "ralph-refactor.md", "name": "Add plan command spec loading", "s": "p", "notes": "Modify ralph/commands/plan.py lines 16-37: Replace the stub print statement with spec loading logic. Add code to: parse spec_file argument, resolve path relative to ralph/specs/, verify spec file exists, load spec content. Use pathlib.Path for path handling. This is step 1 of making plan functional.", "accept": "python3 -c \"from ralph.commands.plan import cmd_plan\" && ! python3 -m ralph plan nonexistent.md 2>&1 | grep -q \"not yet implemented\"", "priority": "high"}
{"t": "task", "id": "t-pgy49n", "spec": "ralph-refactor.md", "name": "Add plan command LLM invocation", "s": "p", "notes": "Modify ralph/commands/plan.py cmd_plan function (lines 16-37): After spec loading logic, add opencode invocation. Import spawn_opencode and parse_json_stream from ralph.opencode at top of file. Import load_prompt from ralph.prompts. In cmd_plan, call load_prompt(\"plan\") to get PROMPT_PLAN.md content, then spawn_opencode with prompt containing spec content. Parse output for task definitions using parse_json_stream.", "accept": "grep -q spawn_opencode ralph/commands/plan.py && grep -q parse_json_stream ralph/commands/plan.py", "deps": ["t-o4etqo"], "priority": "high"}
{"t": "task", "id": "t-psz0uh", "spec": "ralph-refactor.md", "name": "Add plan command task saving", "s": "p", "notes": "Modify ralph/commands/plan.py at lines 1-5 imports and lines 20-37 cmd_plan body: Import save_state and load_state from ralph.state at file top. In cmd_plan after LLM parsing, call load_state(plan_path) to get existing state, iterate parsed tasks and call state.add_task(task), call save_state(state, plan_path), print count of tasks added.", "accept": "python3 -m ralph plan --help 2>&1 | grep -iv \"not yet implemented\" | grep -q .", "deps": ["t-pgy49n"], "priority": "medium"}
{"t": "task", "id": "t-pzg31t", "spec": "ralph-refactor.md", "name": "Refactor load_state to reduce complexity", "s": "p", "notes": "Modify ralph/state.py load_state function (lines 297-384): This function has complexity 22 (grade D). Extract helper functions: _parse_task_line(line) -> Optional[Task], _parse_issue_line(line) -> Optional[Issue], _parse_config_line(line) -> Optional[RalphPlanConfig], _parse_tombstone_line(line) -> Optional[Tombstone]. Each helper handles one record type. Main loop calls helpers based on line type. Target complexity: B or better.", "accept": "radon cc ralph/state.py -s | grep load_state | grep -E \"[AB]\"", "priority": "medium"}
{"t": "task", "id": "t-p4eska", "spec": "ralph-refactor.md", "name": "Refactor validate_state to reduce complexity", "s": "p", "notes": "Modify ralph/state.py validate_state function (lines 387-450): This function has complexity 17 (grade C). Extract helper functions: _validate_tasks(state) -> List[str], _validate_issues(state) -> List[str], _validate_deps(state) -> List[str]. Each returns a list of error messages. Main function aggregates errors from helpers. Target complexity: B or better.", "accept": "radon cc ralph/state.py -s | grep validate_state | grep -E \"[AB]\"", "deps": ["t-pzg31t"], "priority": "medium"}
{"t": "issue", "id": "i-7cg0bp", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (12x): Task 't-i6nflz' (t-i6nflz) keeps failing with: ralph/tui/fallback.py file was not created. The task to extract FallbackDashboard class from powerpl; ralph/tui/fallback.py does not exist - file was never created; ralph/tui/fallback.py does not exist - the file was never created. FallbackDashboard class, Dashboar. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cjmlr", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-68rt9c) keeps failing with: ; File ralph/tui/fallback.py does not exist. The ralph/tui/ directory contains only: __init__.py, art.; ralph/tui/fallback.py does not exist. Directory only contains __init__.py, art.py, and dashboard.py. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cjkmf", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Convert powerplant/ralph to bash wrapper' (t-gmxfeb) keeps failing with: ; powerplant/ralph is still a Python script (#!/usr/bin/env python3), not a bash wrapper. Line 2 is a ; powerplant/ralph still uses Python shebang, not bash wrapper. ralph --help fails with ModuleNotFound. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7ct8ni", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Update tui/__init__.py with proper exports' (t-jm9srj) keeps failing with: ; FallbackDashboard is not exported from ralph.tui.__init__.py - import fails with ImportError; FallbackDashboard import fails - ralph/tui/fallback.py does not exist, was never created. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cavl6", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (9x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-g1blwq) keeps failing with: File ralph/tui/fallback.py does not exist - file was never created; ; File ralph/tui/fallback.py does not exist - the extraction was never completed. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cwafs", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (6x): Task 'Fix t-jcpk4m deps to point to t-68rt9c' (t-rw2tlk) keeps failing with: ; Task t-jcpk4m does not have a deps field at all - it's missing, not pointing to t-68rt9c. The accept; Task t-jcpk4m does not have t-68rt9c in its deps array - deps field is null/missing. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7ce464", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-h0s1z3) keeps failing with: File ralph/tui/fallback.py does not exist; ; File ralph/tui/fallback.py does not exist - module cannot be imported. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cdrxk", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor shell completions to stay in sync with CLI' (t-pjay0z) keeps failing with: ; All three criteria failed: 'construct' not found in completions (expected match), 'build' WAS found ; All three criteria failed: 'construct' was NOT found (should match), 'build' WAS found (should NOT m. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7c3xwa", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Create ralph/tui/fallback.py with FallbackDashboard, DashboardState, and render_dashboard extraction' (t-kdfcv0) keeps failing with: ; Import fails: cannot import name 'RalphConfig' from 'ralph.config' - likely stale cache issue or mis; ImportError: cannot import name 'RalphConfig' from 'ralph.config'. fallback.py imports RalphConfig w. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7ct6lm", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor main() in cli.py to use command dispatch pattern' (t-4jhicj) keeps failing with: main() function is 101 lines, exceeds 60-line limit; main() is 117 lines, exceeds 60-line limit. Need to refactor using dictionary-based command dispatch; main() function is 88 lines, exceeds the 60-line limit. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7c5yaq", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor render_dashboard into smaller composable rendering functions' (t-4nox9j) keeps failing with: render_dashboard has 27 control flow statements (requirement: <10). Not refactored into smaller help; render_dashboard has 27 control flow statements, exceeds limit of 10. Need further extraction into h; render_dashboard has 27 control flow statements, exceeds limit of 10. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cepsb", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Verify and fix complexity targets' (t-5ttjz4) keeps failing with: 4 files exceed 500 lines: cli.py (761), init.py (705), dashboard.py (779), fallback.py (587); 4 modules exceed 500 lines: cli.py (764), init.py (705), dashboard.py (779), fallback.py (587); 4 modules exceed 500 lines: tui/dashboard.py (779), cli.py (748), commands/init.py (705), tui/fallba. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7ctcuc", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (5x): Task 'Refactor cmd_task in cli.py to reduce complexity' (t-50kf8b) keeps failing with: cmd_task has complexity E (37), does not meet acceptance criteria of A or B; cmd_task has complexity grade E (score 37), needs to be A or B; cmd_task has complexity E (37), not A/B as required. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7c1xoa", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (5x): Task 'Refactor load_state in state.py to reduce complexity' (t-59ozjr) keeps failing with: load_state has complexity D (22), does not meet acceptance criteria of A or B; load_state has complexity D (22), not A/B as required; load_state has complexity grade D (score 22), needs to be A or B. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7claz9", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Verify all complexity targets are met' (t-6g0ear) keeps failing with: 29 functions have complexity >= C, need all to be below C threshold; 43 code items still have complexity C or higher (expected 0); 31 functions have complexity >= C, none allowed. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7ca9cz", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Decompose oversized modules to meet 500-line complexity target' (t-7pl3nl) keeps failing with: 4 files exceed 500 lines: cli.py (748), init.py (705), dashboard.py (779), fallback.py (587); 4 files still exceed 500 lines: cli.py (764), init.py (705), dashboard.py (779), fallback.py (595); 4 files exceed 500 lines: cli.py (748), init.py (705), dashboard.py (779), fallback.py (595). Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cebcg", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Implement ralph plan command' (t-7wmfri) keeps failing with: plan command prints 'not yet implemented' and does not create/update plan.jsonl; plan command is still a stub printing not yet implemented; Plan command is a stub - prints 'not yet implemented' and does not actually create/update plan.jsonl. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cuwrq", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Implement ralph watch command' (t-713zcr) keeps failing with: watch command is still a stub printing not yet implemented; Watch command shows placeholder message, dashboard not implemented; watch command prints 'not yet implemented' and does not launch dashboard. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-7cnmvn", "spec": "ralph-refactor.md", "desc": "COMMON FAILURE PATTERN: 4 tasks fail with 'missing'. Affected: Add type hints and docstrings , Fix t-jcpk4m deps to point to , t-i6nflz. Sample: parse_json_stream_iter() in ralph/opencode.py line 238 is missing type hint for lines_iter parameter. Likely missing prerequisite - create blocking task.", "priority": "high"}
{"t": "issue", "id": "i-9ln4sb", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (12x): Task 't-i6nflz' (t-i6nflz) keeps failing with: ralph/tui/fallback.py does not exist - file was never created despite task being marked done; ralph/tui/fallback.py does not exist; File ralph/tui/fallback.py does not exist - the extraction was never completed. Directory only conta. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lqygq", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-68rt9c) keeps failing with: ; ralph/tui/fallback.py does not exist. Directory only contains __init__.py, art.py, and dashboard.py; File ralph/tui/fallback.py does not exist. The extraction was never completed.. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lfhas", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Convert powerplant/ralph to bash wrapper' (t-gmxfeb) keeps failing with: ; powerplant/ralph is still a Python script (#!/usr/bin/env python3), not a bash wrapper. Line 2 is a ; powerplant/ralph is still a Python script (#!/usr/bin/env python3), not a bash wrapper. The conversi. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9l19se", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (7x): Task 'Update tui/__init__.py with proper exports' (t-jm9srj) keeps failing with: FallbackDashboard import fails - ralph/tui/fallback.py does not exist; ; FallbackDashboard is not exported from ralph.tui.__init__.py - import fails with ImportError. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lk5yn", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (9x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-g1blwq) keeps failing with: ; ralph/tui/fallback.py does not exist - file was never created despite commit at bbb13f9; File ralph/tui/fallback.py does not exist - import fails with ModuleNotFoundError. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lswue", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (6x): Task 'Fix t-jcpk4m deps to point to t-68rt9c' (t-rw2tlk) keeps failing with: ; Task t-jcpk4m has no deps field - the deps were not set to include t-68rt9c; Task t-jcpk4m no longer has deps field - it was accepted and no longer in pending state with deps ar. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lnvf6", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Create ralph/tui/fallback.py with FallbackDashboard extraction' (t-h0s1z3) keeps failing with: ; File ralph/tui/fallback.py does not exist; File ralph/tui/fallback.py does not exist - module cannot be imported. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lfzl7", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor shell completions to stay in sync with CLI' (t-pjay0z) keeps failing with: ; Shell completions not updated: 'construct' and 'prioritize' not found in bash completion, 'build' st; All three criteria failed: 'construct' was NOT found (should match), 'build' WAS found (should NOT m. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lcqlf", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Create ralph/tui/fallback.py with FallbackDashboard, DashboardState, and render_dashboard extraction' (t-kdfcv0) keeps failing with: ImportError: cannot import name 'RalphConfig' from 'ralph.config'. fallback.py imports RalphConfig w; ; Import fails: cannot import name 'RalphConfig' from 'ralph.config' - likely stale cache issue or mis. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9ldzm4", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor main() in cli.py to use command dispatch pattern' (t-4jhicj) keeps failing with: main() is 117 lines, exceeds 60-line limit. Need to refactor using dictionary-based command dispatch; main() is 117 lines, exceeds 60-line limit. set-spec and plan spec-listing logic still inline instea; main() function is 88 lines, exceeds the 60-line limit. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lnlrq", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Refactor render_dashboard into smaller composable rendering functions' (t-4nox9j) keeps failing with: render_dashboard has 27 control flow statements, exceeds limit of 10. Need further extraction into h; render_dashboard has 27 control flow statements (requirement: <10). Not refactored into smaller help; render_dashboard has 27 control flow statements, exceeds limit of 10. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9luq11", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Verify and fix complexity targets' (t-5ttjz4) keeps failing with: 4 modules exceed 500 lines: cli.py (748), init.py (705), dashboard.py (779), fallback.py (587); 4 modules exceed 500 lines: cli.py (764), init.py (705), dashboard.py (779), fallback.py (587); 4 modules exceed 500 lines: tui/dashboard.py (779), cli.py (748), commands/init.py (705), tui/fallba. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lwi14", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (5x): Task 'Refactor cmd_task in cli.py to reduce complexity' (t-50kf8b) keeps failing with: cmd_task has complexity E (37), does not meet acceptance criteria of A or B; cmd_task has complexity E (37), not A/B; cmd_task has complexity grade E (score 37), needs to be A or B. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9laobu", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (5x): Task 'Refactor load_state in state.py to reduce complexity' (t-59ozjr) keeps failing with: load_state has complexity D (22), needs A or B; load_state has complexity D (22), does not meet acceptance criteria of A or B; load_state has complexity grade D (score 22), needs to be A or B. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9loqqu", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Verify all complexity targets are met' (t-6g0ear) keeps failing with: 29 functions have complexity >= C, need all to be below C threshold; 43 code items still have complexity C or higher (expected 0); 31 functions have complexity >= C, none allowed. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lzkh7", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Decompose oversized modules to meet 500-line complexity target' (t-7pl3nl) keeps failing with: 4 files exceed 500 lines: cli.py (748), init.py (705), dashboard.py (779), fallback.py (595); 4 files exceed 500 lines: cli.py (748), init.py (705), dashboard.py (779), fallback.py (587); 4 files still exceed 500 lines: cli.py (764), init.py (705), dashboard.py (779), fallback.py (595). Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9lad7q", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (3x): Task 'Implement ralph plan command' (t-7wmfri) keeps failing with: plan command prints 'not yet implemented' and does not create/update plan.jsonl; plan command is still a stub printing not yet implemented; Plan command is a stub - prints 'not yet implemented' and does not actually create/update plan.jsonl. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9l4gxq", "spec": "ralph-refactor.md", "desc": "REPEATED REJECTION (4x): Task 'Implement ralph watch command' (t-713zcr) keeps failing with: watch command prints 'not yet implemented' and does not launch dashboard; Watch command is a stub - prints 'not yet implemented' and does not launch dashboard; Watch command shows placeholder message, dashboard not implemented. Investigate root cause - may need prerequisite task or spec clarification.", "priority": "high"}
{"t": "issue", "id": "i-9ls7e2", "spec": "ralph-refactor.md", "desc": "COMMON FAILURE PATTERN: 4 tasks fail with 'missing'. Affected: Add type hints and docstrings , t-i6nflz, Fix t-jcpk4m deps to point to . Sample: parse_json_stream_iter() in ralph/opencode.py line 238 is missing type hint for lines_iter parameter. Likely missing prerequisite - create blocking task.", "priority": "high"}
